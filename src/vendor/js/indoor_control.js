!function (o, t) { if ("object" == typeof exports && "object" == typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { var e = t(); for (var r in e) ("object" == typeof exports ? exports : o)[r] = e[r] } }(this, function () {
  return function (o) { function t(r) { if (e[r]) return e[r].exports; var i = e[r] = { exports: {}, id: r, loaded: !1 }; return o[r].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports } var e = {}; return t.m = o, t.c = e, t.p = "", t(0) }([function (o, t, e) { "use strict"; function r(o) { return o && o.__esModule ? o : { default: o } } function i(o, t) { if (!(o instanceof t)) throw new TypeError("Cannot call a class as a function") } function n(o, t) { if (!o) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? o : t } function s(o, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); o.prototype = Object.create(t && t.prototype, { constructor: { value: o, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(o, t) : o.__proto__ = t) } var l = function () { function o(o, t) { for (var e = 0; e < t.length; e++) { var r = t[e]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(o, r.key, r) } } return function (t, e, r) { return e && o(t.prototype, e), r && o(t, r), t } }(), h = e(1), a = r(h); e(2); var d = function (o) { function t(o, e) { i(this, t); var r = n(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)); return r._map = e, r._mountNode = document.getElementById(o), r._floorSliderExists = !1, r._showAllFloors = !1, r._maxFloorsToShow = 0, r._floorCount = 0, r._baseSliderFloorIndex = 0, r._floorIndex = 0, r._floorSliderScrollSpeed = 0, r._floorSliderScrollDelta = 0, r._floorSliderHeight = 0, r._indoorControl = null, r._exitButton = null, r._floorSliderContainer = null, r._tracker = null, r._barsContainer = null, r._thumb = null, r._numbersContainer = null, r._upIndicatorArrow = null, r._downIndicatorArrow = null, r._onIndoorMapEntered = r._onIndoorMapEntered.bind(r), r._onIndoorMapExit = r._onIndoorMapExit.bind(r), r._onIndoorFloorChange = r._onIndoorFloorChange.bind(r), r._updateSliderHeight = r._updateSliderHeight.bind(r), r._updateSlider = r._updateSlider.bind(r), r._onThumbMouseDown = r._onThumbMouseDown.bind(r), r._onThumbMouseUp = r._onThumbMouseUp.bind(r), r._onThumbDrag = r._onThumbDrag.bind(r), r._onThumbDragEnd = r._onThumbDragEnd.bind(r), r._onExitButtonClicked = r._onExitButtonClicked.bind(r), r._map.indoors.on("indoormapenter", r._onIndoorMapEntered), r._map.indoors.on("indoormapexit", r._onIndoorMapExit), r } return s(t, o), l(t, [{ key: "getThumbCenterPosition", value: function () { if (!this._floorSliderExists) return null; var o = this._thumb.style.top.length > 0 ? parseInt(this._thumb.style.top) : $(this._tracker).height(); return { x: .5 * $(this._floorSliderContainer).width(), y: $(this._exitButton).height() + parseInt($(this._floorSliderContainer).css("marginTop")) + o } } }, { key: "hasFloorSlider", value: function () { return this._floorSliderExists } }, { key: "_onExitButtonClicked", value: function () { this.fire("beginindoormapexit"), this._map.indoors.off("indoormapfloorchange", this._onIndoorFloorChange), $(window).off("resize", this._updateSliderHeight), this._map.indoors.exit() } }, { key: "_setThumbPosition", value: function () { var o = this._showAllFloors ? this._floorCount : this._maxFloorsToShow, t = (this._floorIndex - this._baseSliderFloorIndex) / (o - 1), e = (1 - t) * this._floorSliderHeight; this._thumb.style.top = e + "px" } }, { key: "_onThumbMouseDown", value: function () { this._map.indoors.expand(), this._tracker.style.opacity = 1, this._floorSliderExists && !this._showAllFloors && this._map.on("update", this._updateSlider) } }, { key: "_onThumbMouseUp", value: function () { this._endThumbInteraction() } }, { key: "_getTruncatedFloorNumberText", value: function (o) { return o.substring(0, 2) } }, { key: "_onThumbDrag", value: function (o, t) { var e = 1 - t.position.top / this._floorSliderHeight, r = this._showAllFloors ? this._floorCount : this._maxFloorsToShow, i = (e * (r - 1) + this._baseSliderFloorIndex) / this._floorCount; this._floorIndex = Math.round(e * (r - 1)) + this._baseSliderFloorIndex, this._thumb.childNodes[0].innerHTML = this._getTruncatedFloorNumberText(this._map.indoors.getActiveIndoorMap().getFloors()[this._floorIndex].getFloorShortName()), this._map.indoors.setFloorInterpolation(i), this._updateSliderNumbers(), this._showAllFloors || (this._floorSliderScrollSpeed = 4 * Math.max(e - .925, Math.min(e - .075, 0))) } }, { key: "_onThumbDragEnd", value: function (o, t) { this._setThumbPosition(), this._map.indoors.setFloor(this._floorIndex), this._endThumbInteraction() } }, { key: "_endThumbInteraction", value: function () { this._map.indoors.collapse(), this._tracker.style.opacity = .5, this._floorSliderExists && !this._showAllFloors && (this._map.off("update", this._updateSlider), this._floorSliderScrollSpeed = 0, this._floorSliderScrollDelta = 0) } }, { key: "_onIndoorMapEntered", value: function () { this._floorCount = this._map.indoors.getActiveIndoorMap().getFloorCount(), this._baseSliderFloorIndex = 0, this._floorIndex = this._map.indoors.getFloor().getFloorIndex(), this._floorSliderScrollSpeed = 0, this._floorSliderScrollDelta = 0; var o = this._floorCount > 1; this._createView(o) } }, { key: "_onIndoorMapExit", value: function () { this._destroyView() } }, { key: "_updateBaseSliderFloorIndex", value: function () { this._showAllFloors ? this._baseSliderFloorIndex = 0 : this._floorIndex <= this._baseSliderFloorIndex ? this._baseSliderFloorIndex = 2 === this._maxFloorsToShow ? this._floorIndex : Math.max(this._floorIndex - 1, 0) : this._floorIndex >= this._baseSliderFloorIndex + this._maxFloorsToShow - 1 ? this._baseSliderFloorIndex = Math.min(this._floorIndex - this._maxFloorsToShow + 2, this._floorCount - this._maxFloorsToShow) : this._baseSliderFloorIndex + this._maxFloorsToShow >= this._floorCount && (this._baseSliderFloorIndex = this._floorCount - this._maxFloorsToShow) } }, { key: "_onIndoorFloorChange", value: function (o) { this._floorSliderExists && (this._floorIndex = o.floor.getFloorIndex(), this._thumb.childNodes[0].innerHTML = this._getTruncatedFloorNumberText(o.floor.getFloorShortName()), this._updateBaseSliderFloorIndex(), this._updateSliderNumbers(), this._setThumbPosition()) } }, { key: "_createView", value: function (o) { this._indoorControl = document.createElement("div"), this._indoorControl.setAttribute("class", "eegeo-indoor-control"), this._mountNode.appendChild(this._indoorControl); var t = document.createElement("div"); if (t.setAttribute("id", "eegeo-exit-interior-button-container"), this._exitButton = document.createElement("button"), this._exitButton.setAttribute("class", "eegeo-ripple-button"), this._exitButton.onclick = this._onExitButtonClicked, t.appendChild(this._exitButton), this._indoorControl.appendChild(t), o) this._floorSliderContainer = document.createElement("div"), this._floorSliderContainer.setAttribute("class", "eegeo-floor-slider"), this._indoorControl.appendChild(this._floorSliderContainer), this._tracker = document.createElement("div"), this._tracker.setAttribute("class", "eegeo-floor-slider-tracker"), this._tracker.style.opacity = .5, this._floorSliderContainer.appendChild(this._tracker), this._numbersContainer = document.createElement("div"), this._numbersContainer.setAttribute("class", "eegeo-floor-slider-numbers-container"), this._tracker.appendChild(this._numbersContainer), this._barsContainer = document.createElement("div"), this._barsContainer.setAttribute("class", "eegeo-floor-slider-bars-container"), this._tracker.appendChild(this._barsContainer), this._upIndicatorArrow = document.createElement("div"), this._upIndicatorArrow.setAttribute("class", "eegeo-floor-slider-up-indicator-arrow"), this._barsContainer.appendChild(this._upIndicatorArrow), this._downIndicatorArrow = document.createElement("div"), this._downIndicatorArrow.setAttribute("class", "eegeo-floor-slider-down-indicator-arrow"), this._barsContainer.appendChild(this._downIndicatorArrow), this._thumb = document.createElement("div"), this._thumb.setAttribute("class", "eegeo-floor-slider-thumb"), this._thumb.onmousedown = this._onThumbMouseDown, this._thumb.onmouseup = this._onThumbMouseUp, this._thumb.innerHTML = '<div class="eegeo-floor-slider-thumb-text">' + this._getTruncatedFloorNumberText(this._map.indoors.getActiveIndoorMap().getFloors()[this._floorIndex].getFloorShortName()) + '</div><div id="eegeo-floor-slider-tooltip-hook">', this._floorSliderContainer.appendChild(this._thumb), $(this._thumb).draggable({ axis: "y", containment: "parent", stop: this._onThumbDragEnd, drag: this._onThumbDrag }), this._updateSliderHeight(), this._floorSliderExists = !0, this._map.indoors.on("indoormapfloorchange", this._onIndoorFloorChange), $(window).on("resize", this._updateSliderHeight); else { var e = parseInt($(this._exitButton).height()); this._indoorControl.style.height = e + "px" } } }, { key: "_destroyView", value: function () { this._indoorControl.parentNode && this._mountNode.removeChild(this._indoorControl), this._floorSliderExists = !1 } }, { key: "hideAndDeregister", value: function () { this._map.indoors.off("indoormapenter", this._onIndoorMapEntered), this._map.indoors.off("indoormapexit", this._onIndoorMapExit), this._map.indoors.isIndoors() && this._destroyView() } }, { key: "_updateSlider", value: function () { if (0 === this._floorSliderScrollSpeed) this._floorSliderScrollDelta = 0; else { var o = !1; if (this._floorSliderScrollSpeed > 0 ? this._baseSliderFloorIndex + this._maxFloorsToShow < this._floorCount && (this._floorSliderScrollDelta += this._floorSliderScrollSpeed, this._floorSliderScrollDelta >= 1 && (this._floorSliderScrollDelta -= 1, this._baseSliderFloorIndex += 1, o = !0)) : this._floorSliderScrollSpeed < 0 && this._baseSliderFloorIndex > 0 && (this._floorSliderScrollDelta += this._floorSliderScrollSpeed, this._floorSliderScrollDelta <= -1 && (this._floorSliderScrollDelta += 1, this._baseSliderFloorIndex -= 1, o = !0)), o) { var t = 1 - parseInt(this._thumb.style.top) / this._floorSliderHeight; this._floorIndex = Math.round(t * (this._maxFloorsToShow - 1)) + this._baseSliderFloorIndex, this._thumb.childNodes[0].innerHTML = this._getTruncatedFloorNumberText(this._map.indoors.getActiveIndoorMap().getFloors()[this._floorIndex].getFloorShortName()); var e = (t * (this._maxFloorsToShow - 1) + this._baseSliderFloorIndex) / this._floorCount; this._map.indoors.setFloorInterpolation(e), this._updateSliderNumbers() } } } }, { key: "_updateSliderNumbers", value: function () { for (var o = this._numbersContainer.childNodes, t = 0; t < o.length; ++t)o[o.length - t - 1].innerHTML = this._map.indoors.getActiveIndoorMap().getFloors()[t + this._baseSliderFloorIndex].getFloorShortName(), o[o.length - t - 1].style.visibility = this._floorIndex === t + this._baseSliderFloorIndex ? "hidden" : "visible"; this._updateIndicatorArrowOpacity() } }, { key: "_updateIndicatorArrowOpacity", value: function () { this._upIndicatorArrow.style.opacity = this._baseSliderFloorIndex + this._maxFloorsToShow < this._floorCount ? 1 : 0, this._downIndicatorArrow.style.opacity = this._baseSliderFloorIndex > 0 ? 1 : 0 } }, { key: "_updateSliderHeight", value: function () { var o = parseInt($(this._exitButton).height()), t = parseInt($(this._floorSliderContainer).css("marginTop")), e = .5 * $(this._thumb).height(), r = parseInt($(this._thumb).css("paddingTop")), i = 30, n = 60, s = Math.min($(this._mountNode).height(), n * (this._floorCount - 1) + o + t + e); s = Math.max(s, i + o + t + e), this._floorSliderHeight = s - o - t - e, this._floorSliderContainer.style.height = this._floorSliderHeight + e + r + "px", this._tracker.style.height = this._floorSliderHeight + "px", this._maxFloorsToShow = parseInt(this._floorSliderHeight / i) + 1, this._showAllFloors = this._maxFloorsToShow > this._floorCount, this._updateBaseSliderFloorIndex(); for (var l = this._showAllFloors ? this._floorCount : this._maxFloorsToShow, h = this._floorSliderHeight / (l - 1); this._barsContainer.hasChildNodes();)this._barsContainer.removeChild(this._barsContainer.lastChild); this._barsContainer.appendChild(this._upIndicatorArrow), this._barsContainer.appendChild(this._downIndicatorArrow); for (var a = l - 1; a > -1; --a) { var d = document.createElement("div"); d.setAttribute("class", "eegeo-floor-slider-bar-container"), a > 0 && (d.style.height = h + "px"), this._barsContainer.appendChild(d); var u = document.createElement("div"); u.setAttribute("class", "eegeo-floor-slider-bar"), d.appendChild(u) } for (; this._numbersContainer.hasChildNodes();)this._numbersContainer.removeChild(this._numbersContainer.lastChild); for (var _ = l - 1; _ > -1; --_) { var c = document.createElement("div"); _ > 0 && (c.style.height = h + "px"), c.style.lineHeight = "16px", c.innerHTML = this._map.indoors.getActiveIndoorMap().getFloors()[_ + this._baseSliderFloorIndex].getFloorShortName(), c.style.visibility = this._floorIndex === _ + this._baseSliderFloorIndex ? "hidden" : "visible", this._numbersContainer.appendChild(c) } this._updateSliderNumbers(), this._setThumbPosition(), this._indoorControl.style.height = s + "px" } }]), t }(a.default), u = function (o, t, e) { return new d(o, t, e) }; o.exports = { WrldIndoorControl: d, wrldIndoorControl: u, EegeoIndoorControl: d, eegeoIndoorControl: u } }, function (o, t) { "use strict"; function e(o, t) { if (!(o instanceof t)) throw new TypeError("Cannot call a class as a function") } Object.defineProperty(t, "__esModule", { value: !0 }); var r = function () { function o(o, t) { for (var e = 0; e < t.length; e++) { var r = t[e]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(o, r.key, r) } } return function (t, e, r) { return e && o(t.prototype, e), r && o(t, r), t } }(), i = function () { function o() { e(this, o), this._events = {} } return r(o, [{ key: "on", value: function (o, t) { var e = this._events[o]; e || (e = [], this._events[o] = e); for (var r = 0; r < e.length; ++r)if (e[r] === t) return; e.push(t) } }, { key: "off", value: function (o, t) { var e = this._events[o]; if (e) for (var r = e.length; r > 0; --r)if (e[r] === t) return void e.splice(r, 1) } }, { key: "fire", value: function (o, t) { var e = this, r = this._events[o]; r && r.forEach(function (r) { r(Object.assign({}, t, { type: o, target: e })) }) } }]), o }(); t.default = i }, function (o, t) {
    "use strict";/*!
	 * jQuery UI Touch Punch 0.2.3
	 *
	 * Copyright 2011鈥�2014, Dave Furfero
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 *
	 * Depends:
	 *  jquery.ui.widget.js
	 *  jquery.ui.mouse.js
	 */
    !function (o) { function t(o, t) { if (!(o.originalEvent.touches.length > 1)) { o.preventDefault(); var e = o.originalEvent.changedTouches[0], r = document.createEvent("MouseEvents"); r.initMouseEvent(t, !0, !0, window, 1, e.screenX, e.screenY, e.clientX, e.clientY, !1, !1, !1, !1, 0, null), o.target.dispatchEvent(r) } } if (o.support.touch = "ontouchend" in document, o.support.touch) { var e, r = o.ui.mouse.prototype, i = r._mouseInit, n = r._mouseDestroy; r._touchStart = function (o) { var r = this; !e && r._mouseCapture(o.originalEvent.changedTouches[0]) && (e = !0, r._touchMoved = !1, t(o, "mouseover"), t(o, "mousemove"), t(o, "mousedown")) }, r._touchMove = function (o) { e && (this._touchMoved = !0, t(o, "mousemove")) }, r._touchEnd = function (o) { e && (t(o, "mouseup"), t(o, "mouseout"), this._touchMoved || t(o, "click"), e = !1) }, r._mouseInit = function () { var t = this; t.element.bind({ touchstart: o.proxy(t, "_touchStart"), touchmove: o.proxy(t, "_touchMove"), touchend: o.proxy(t, "_touchEnd") }), i.call(t) }, r._mouseDestroy = function () { var t = this; t.element.unbind({ touchstart: o.proxy(t, "_touchStart"), touchmove: o.proxy(t, "_touchMove"), touchend: o.proxy(t, "_touchEnd") }), n.call(t) } } }(jQuery)
  }])
});